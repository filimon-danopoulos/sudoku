!function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e(e,n){if(e){if("string"===typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function n(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(s){u=!0,o=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||e(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(n){return function(e){if(Array.isArray(e))return t(e)}(n)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||e(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var u;!function(t){t[t.VeryEasy=30]="VeryEasy",t[t.Easy=36]="Easy",t[t.Normal=42]="Normal",t[t.Hard=50]="Hard",t[t.VeryHard=57]="VeryHard"}(u||(u={}));var s=function(){function t(e,n){o(this,t),this.x=e,this.y=n,this.size=void 0,this.left=void 0,this.right=void 0,this.up=void 0,this.down=void 0,this.size=0,this.left=this,this.right=this,this.up=this,this.down=this}return a(t,[{key:"X",get:function(){return this.x}},{key:"Y",get:function(){return this.y}},{key:"Left",get:function(){return this.left}},{key:"Right",get:function(){return this.right}},{key:"Up",get:function(){return this.up}},{key:"Down",get:function(){return this.down}},{key:"Size",get:function(){return this.size}},{key:"incrementSize",value:function(){++this.size}},{key:"decrementSize",value:function(){--this.size}},{key:"horizontalExclude",value:function(){this.left.right=this.right,this.right.left=this.left}},{key:"verticalExclude",value:function(){this.up.down=this.down,this.down.up=this.up}},{key:"horizontalInclude",value:function(){this.left.right=this,this.right.left=this}},{key:"verticalInclude",value:function(){this.up.down=this,this.down.up=this}},{key:"horizontalInsert",value:function(t){t.left=this.left,t.right=this,this.left.right=t,this.left=t}},{key:"verticalInsert",value:function(t){t.up=this.up,t.down=this,this.up.down=t,this.up=t}}]),t}(),l=function(){function t(e){o(this,t),this.root=void 0,this.columnHeaders=void 0,this.root=new s(-1,-1),this.columnHeaders=[];var n=this.convertDenseMatrixToSparseRepresentation(e);this.generateRows(n)}return a(t,[{key:"getColumnIndexOf",value:function(t){return this.columnHeaders.indexOf(t)}},{key:"Root",get:function(){return this.root}},{key:"convertDenseMatrixToSparseRepresentation",value:function(t){return t.map((function(t){return t.reduce((function(t,e,n){return e&&t.push(n),t}),[])}),[])}},{key:"cover",value:function(t){var e=this.columnHeaders[t];e.horizontalExclude();for(var n=e.Down;n!==e;n=n.Down)for(var r=n.Right;r!==n;r=r.Right)r.verticalExclude(),this.columnHeaders[r.X].decrementSize()}},{key:"uncover",value:function(t){var e=this.columnHeaders[t];e.horizontalInclude();for(var n=e.Up;n!==e;n=n.Up)for(var r=n.Left;r!==n;r=r.Left)r.verticalInclude(),this.columnHeaders[r.X].incrementSize()}},{key:"generateRows",value:function(t){var e=this;t.forEach((function(t,n){var r=new s(-1,n);t.forEach((function(t){var o=new s(t,n);e.columnHeaders.length<=t&&e.appendColumnHeaders(t-e.columnHeaders.length+1);var i=e.columnHeaders[t];i.verticalInsert(o),i.incrementSize(),r.horizontalInsert(o)})),r.horizontalExclude()}))}},{key:"appendColumnHeaders",value:function(t){for(;t--;){var e=new s(this.columnHeaders.length,-1);this.root.horizontalInsert(e),this.columnHeaders.push(e)}}}]),t}(),c=function(){function t(){o(this,t),this.rowMetaData=void 0,this.sudokuRuleMatrix=void 0,this.rowMetaData=this.generateMatrixRows(),this.sudokuRuleMatrix=this.generateSudokuRuleMatrix()}return a(t,[{key:"solve",value:function(t){var e=this.applyGivenNumbersToRules(t),n=new l(e),r=[];return this.recurse(n,r,[]),r}},{key:"applyGivenNumbersToRules",value:function(t){var e=this;return this.sudokuRuleMatrix.filter((function(n,r){var o=e.rowMetaData[r],i=t[o.row][o.column];return null===i||i===o.value}))}},{key:"recurse",value:function(t,e,n){if(t.Root.Right===t.Root)e.push(r(n).sort());else{var o=this.findBestColumnToStartAt(t.Root);if(!(o.Size<1)){var i=t.getColumnIndexOf(o);t.cover(i);for(var a=o.Down;a!==o;a=a.Down){n.push(a.Y);for(var u=a.Right;u!==a;u=u.Right)t.cover(u.X);this.recurse(t,e,n);for(var s=a.Left;s!==a;s=s.Left)t.uncover(s.X);n.pop()}t.uncover(i)}}}},{key:"findBestColumnToStartAt",value:function(t){for(var e=t.Right,n=e.Right;n!==t;n=n.Right)n.Size<e.Size&&(e=n);return e}},{key:"generateSudokuRuleMatrix",value:function(){var t=this;return this.rowMetaData.map((function(e){var n=t.getCellContraints(e),o=t.getRowContraints(e),i=t.getColumnConstraints(e),a=t.getBlockConstraints(e);return[].concat(r(n),r(o),r(i),r(a))}))}},{key:"getCellContraints",value:function(t){for(var e=[],n=9*t.row+t.column,r=0;r<81;r++)e.push(r===n);return e}},{key:"getRowContraints",value:function(t){for(var e=[],n=0;n<9;n++)for(var r=1;r<=9;r++)e.push(t.value===r&&t.row===n);return e}},{key:"getColumnConstraints",value:function(t){for(var e=[],n=0;n<9;n++)for(var r=1;r<=9;r++)e.push(t.value===r&&t.column===n);return e}},{key:"getBlockConstraints",value:function(t){for(var e=[],n=0;n<9;n++)for(var r=1;r<=9;r++)e.push(t.value===r&&t.block===n);return e}},{key:"generateMatrixRows",value:function(){for(var t=[],e=0;e<9;e++)for(var n=0;n<9;n++)for(var r=1;r<=9;r++){var o=3*Math.floor(e/3)+Math.floor(n/3);t.push({row:e,column:n,block:o,value:r})}return t}}]),t}(),h=[[3,6,1,7,2,5,9,4,8],[5,8,7,9,6,4,2,1,3],[4,9,2,8,3,1,6,5,7],[6,3,8,2,5,9,4,7,1],[1,7,4,6,8,3,5,9,2],[2,5,9,1,4,7,8,3,6],[7,4,6,3,9,2,1,8,5],[9,2,3,5,1,8,7,6,4],[8,1,5,4,7,6,3,2,9]],f=function(){function t(e){o(this,t),this.difficulty=e,this.solution=void 0,this.data=void 0,this.solution=this.shuffle(h),this.data=[]}return a(t,[{key:"generate",value:function(){var t=new c,e=Date.now();this.data=this.solution.map((function(t){return r(t)}));for(var n=[],o=1273;n.length<this.difficulty&&o--;){var i=void 0,a=void 0;do{i=~~(9*Math.random()),a=~~(9*Math.random())}while(n.includes("".concat(i,":").concat(a)));var s=this.data[i][a];this.data[i][a]=null,1===t.solve(this.data).length?n.push("".concat(i,":").concat(a)):this.data[i][a]=s}var l=Date.now()-e;return o>0?(console.log("It took ".concat(l,"ms to generate a ").concat(u[this.difficulty]," puzzle")),!0):(console.log("Failed to generate a ".concat(u[this.difficulty]," puzzle after ").concat(l,"ms")),!1)}},{key:"shuffle",value:function(t){for(var e=h.map((function(t){return r(t)})),n=0;n<4200;n++)this.moveRowOrColumn(e);return e}},{key:"getPuzzleData",value:function(){var t=this;return this.data.map((function(e,n){return e.map((function(e,r){return[t.solution[n][r],t.solution[n][r]===t.data[n][r]]}))}))}},{key:"moveRowOrColumn",value:function(t){var e=n(this.getFromAndTo(),2),r=e[0],o=e[1];Math.round(Math.random())?this.moveColumn(t,r,o):this.moveRow(t,r,o)}},{key:"getFromAndTo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;t=-1===t?Math.floor(3*Math.random()):t;var e=~~(3*Math.random());if(e===t)return this.getFromAndTo(t);var n=~~(3*Math.random());return[3*n+t,3*n+e]}},{key:"moveRow",value:function(t,e,n){var r=t[n];t[n]=t[e],t[e]=r}},{key:"moveColumn",value:function(t,e,n){t.forEach((function(t){var r=t[n];t[n]=t[e],t[e]=r}))}}]),t}(),v=self;v.addEventListener("message",(function(t){var e=t.data,n=function(t){var e=10;do{var n=new f(t);if(n.generate())return n.getPuzzleData()}while(--e);throw new Error("Could not generate puzzle.")}(e);v.postMessage({puzzleData:n,difficulty:e})}))}();
//# sourceMappingURL=26.5f396730.chunk.js.map